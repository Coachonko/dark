"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[374],{6374:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var r=n(2654),a=n(5747),o=n(9717),i=n(3524),c=n(3020),l=n(1523),u=n(940),s=n(5450),d=n(8422),h=n(5010);const p=(0,r.wU)((()=>{const{url:e}=(0,l.b)(),t=(0,u.k)(),n=(0,s.U)(),r=Number(n.get("id")),p=(0,a.YT)().read({key:d.Z.PRODUCT_ITEM,id:r}),[k,{loading:f}]=(0,o.D)(d.h.removeProduct,{onComplete:e=>{const t=e.read({key:d.Z.PRODUCTS});if(t){const n=t.data,a=n.findIndex((e=>e.id===r));-1!==a&&(n.splice(a,1),e.optimistic({key:d.Z.PRODUCTS,data:n}))}e.delete({key:d.Z.PRODUCT_ITEM,id:r})}}),m=e.replace(`${r}/remove/`,"");return(0,i.h)(h.Zb,{$loading:f},p?(0,i.h)(c.H,null,(0,i.h)("h3",null,"Do you want to remove product #",r,"? ðŸ¤”"),(0,i.h)(h.zx,{onClick:async()=>{f||(await k(r),t.push(m))}},"Yes"),(0,i.h)(h.zx,{onClick:()=>t.back()},"No")):(0,i.h)("h3",null,"It seems there is no product with #",r," ðŸ¤«"))}))},9717:(e,t,n)=>{n.d(t,{D:()=>c});var r=n(9812),a=n(4435),o=n(1261),i=n(5747);function c(e,t){const{refetchQueries:n=[],onComplete:c}=t||{},l=(0,a.P)(),u=(0,i.YT)(),s=(0,o.Y)((()=>({isFetching:!1,data:null,error:null})),[]);return[async(...t)=>{let a=null;try{s.isFetching=!0,s.error=null,l(),a=await e(...t),(0,r.EY)(c)&&c(u,a),n.forEach((e=>u.invalidate({key:e})))}catch(e){(0,r.vU)(e),s.error=String(e)}finally{s.isFetching=!1,l()}return a},{loading:s.isFetching,data:s.data,error:s.error}]}},1523:(e,t,n)=>{n.d(t,{b:()=>i});var r=n(1261),a=n(3113),o=n(3397);function i(){const e=(0,a.M6)();(0,a.BU)(e);const t=(0,a._L)(),{location:{pathname:n}}=e,i=(0,r.Y)((()=>t?(0,o.L7)(n,t):""),[t,n]);return{path:t,url:i}}},5450:(e,t,n)=>{n.d(t,{U:()=>a});var r=n(3113);function a(){const e=(0,r.M6)();return(0,r.BU)(e),e.params}}}]);
//# sourceMappingURL=374.build.js.map