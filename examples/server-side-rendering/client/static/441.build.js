"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[441],{6441:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var n=a(2654),r=a(9717),i=a(5747),l=a(3524),o=a(5450),c=a(1523),d=a(940),s=a(8422),u=a(5010);const h=(0,n.wU)((()=>{const e=(0,o.U)(),t=Number(e.get("id")),[a,{loading:n}]=(0,r.D)(s.h.changeProduct,{onComplete:(e,a)=>{const n=e.read({key:s.Z.PRODUCTS});if(n){const r=n.data;r.find((e=>e.id===t)).name=a.name,e.optimistic({key:s.Z.PRODUCTS,data:r}),e.optimistic({key:s.Z.PRODUCT_ITEM,data:a,id:t})}}}),{url:h}=(0,c.b)(),m=(0,d.k)(),p=h.replace(`${t}/edit/`,""),f=(0,i.YT)().read({key:s.Z.PRODUCT_ITEM,id:t})?.data;return(0,l.h)(u.Zb,{$loading:n},(0,l.h)("h3",null,"Edit product"),f?(0,l.h)(u.l0,{onSubmit:async e=>{e.preventDefault();const t=e.target.elements.name.value,r=e.target.elements.desc.value;n||(await a({...f,name:t,description:r}),m.push(p))}},(0,l.h)("label",{for:"name"},"Name:"),(0,l.h)(u.II,{id:"name",required:!0,value:f.name}),(0,l.h)("label",{for:"desc"},"Description:"),(0,l.h)(u.gx,{id:"desc",required:!0,rows:5,value:f.description}),(0,l.h)(u.zx,{type:"submit"},"Edit")):(0,l.h)("div",null,"It seems there is no product with #",t," ðŸ¤«"))}))},9717:(e,t,a)=>{a.d(t,{D:()=>o});var n=a(9812),r=a(4435),i=a(1261),l=a(5747);function o(e,t){const{refetchQueries:a=[],onComplete:o}=t||{},c=(0,r.P)(),d=(0,l.YT)(),s=(0,i.Y)((()=>({isFetching:!1,data:null,error:null})),[]);return[async(...t)=>{let r=null;try{s.isFetching=!0,s.error=null,c(),r=await e(...t),(0,n.EY)(o)&&o(d,r),a.forEach((e=>d.invalidate({key:e})))}catch(e){(0,n.vU)(e),s.error=String(e)}finally{s.isFetching=!1,c()}return r},{loading:s.isFetching,data:s.data,error:s.error}]}},1523:(e,t,a)=>{a.d(t,{b:()=>l});var n=a(1261),r=a(3113),i=a(3397);function l(){const e=(0,r.M6)();(0,r.BU)(e);const t=(0,r._L)(),{location:{pathname:a}}=e,l=(0,n.Y)((()=>t?(0,i.L7)(a,t):""),[t,a]);return{path:t,url:l}}},5450:(e,t,a)=>{a.d(t,{U:()=>r});var n=a(3113);function r(){const e=(0,n.M6)();return(0,n.BU)(e),e.params}}}]);
//# sourceMappingURL=441.build.js.map