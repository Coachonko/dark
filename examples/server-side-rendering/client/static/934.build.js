"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[934],{7934:(e,t,r)=>{r.r(t),r.d(t,{default:()=>s});var a=r(2654),n=r(9717),i=r(3524),l=r(1523),o=r(940),c=r(8422),d=r(5010);const s=(0,a.wU)((()=>{const[e,{loading:t}]=(0,n.D)(c.h.addProduct,{onComplete:(e,t)=>{const r=e.read({key:c.Z.PRODUCTS});if(r){const a=r.data;a.push(t),e.optimistic({key:c.Z.PRODUCTS,data:a})}}}),{url:r}=(0,l.b)(),a=(0,o.k)(),s=r.replace("add/","");return(0,i.h)(d.Zb,{$loading:t},(0,i.h)("h3",null,"Add product"),(0,i.h)(d.l0,{onSubmit:async r=>{r.preventDefault();const n=r.target.elements.name.value,i=r.target.elements.desc.value;t||(await e({name:n,description:i}),a.push(s))}},(0,i.h)("label",{for:"name"},"Name:"),(0,i.h)(d.II,{id:"name",required:!0}),(0,i.h)("label",{for:"desc"},"Description:"),(0,i.h)(d.gx,{id:"desc",required:!0,rows:3}),(0,i.h)(d.zx,{type:"submit"},"Add")))}))},9717:(e,t,r)=>{r.d(t,{D:()=>o});var a=r(9812),n=r(4435),i=r(1261),l=r(5747);function o(e,t){const{refetchQueries:r=[],onComplete:o}=t||{},c=(0,n.P)(),d=(0,l.YT)(),s=(0,i.Y)((()=>({isFetching:!1,data:null,error:null})),[]);return[async(...t)=>{let n=null;try{s.isFetching=!0,s.error=null,c(),n=await e(...t),(0,a.EY)(o)&&o(d,n),r.forEach((e=>d.invalidate({key:e})))}catch(e){(0,a.vU)(e),s.error=String(e)}finally{s.isFetching=!1,c()}return n},{loading:s.isFetching,data:s.data,error:s.error}]}},1523:(e,t,r)=>{r.d(t,{b:()=>l});var a=r(1261),n=r(3113),i=r(3397);function l(){const e=(0,n.M6)();(0,n.BU)(e);const t=(0,n._L)(),{location:{pathname:r}}=e,l=(0,a.Y)((()=>t?(0,i.L7)(r,t):""),[t,r]);return{path:t,url:l}}}}]);
//# sourceMappingURL=934.build.js.map