"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[962],{38:(e,t,r)=>{r.d(t,{G:()=>i});var n=r(654),s=r(524);const i=(0,n.wU)((({slot:e})=>(0,s.h)("article",{class:"fade animated-route"},e)))},962:(e,t,r)=>{r.r(t),r.d(t,{default:()=>w});var n=r(654),s=r(760),i=r(544),o=r(238),a=r(47),c=r(435),u=r(261),d=r(443),l=r(812);function h(e,t){const[r,n]=t;e.isFetching=!1,e.isLoaded=!0,e.data=r,e.error=n}var f=r(524),g=r(113),p=r(38);const m={endpoint:"https://dummyjson.com",async fetchProduct(e){const t=await fetch(`${this.endpoint}/products/${e}`);return await t.json()}},w=(0,n.wU)((()=>{const e=function(){const e=(0,g.M6)();return(0,g.BU)(e),e.params}(),t=Number(e.get("id")),r=function(e,t=[]){const r=(0,u.Y)((()=>({isFetching:!0,isLoaded:!1,data:null,error:null})),[]),{register:n,unregister:f}=(0,a.h)(),[g,p]=function(){const e=(0,u.Y)((()=>({isMounted:!0,isFirstTime:!0})),[]),{isFirstTime:t}=e;return(0,s.b)((()=>(e.isFirstTime=!1,()=>e.isMounted=!1)),[]),[()=>e.isMounted,()=>t]}(),m=(0,c.P)(),w=()=>g()&&m(),F=(0,d.pj)(),b=(0,u.Y)((()=>F.getNextResourceId()),[]),x=String(b),y=(0,i.X)(),M=F.getIsHydrateZone(),k=async(n,...s)=>{try{y||p()||(r.isFetching=!0,w());const i=await e(...n?s:t);return y?F.setResource(b,[i,null]):(f(x),r.data=i,r.isFetching=!1,r.error=null),i}catch(e){(0,l.vU)(e),y?F.setResource(b,[null,String(e)]):(f(x),r.isFetching=!1,r.error=String(e))}finally{y||(r.isLoaded=!0,w())}};if((0,o.d4)((()=>{!M&&k()}),[...t]),(0,o.d4)((()=>()=>f(x)),[]),y||M){const e=F.getResource(b);if(y)e?h(r,e):F.defer(k);else if(M){if(!e)throw new Error("[Dark]: can not read app state from the server!");h(r,e)}}else p()&&n(x);return{loading:r.isFetching,data:r.data,error:r.error,refetch:(...e)=>k(!0,...e)}}((()=>m.fetchProduct(t)),[t]);return console.log("id",t),console.log("resource",r),(0,f.h)(p.G,null,(0,f.h)("h2",null,"Child route A"),(0,f.h)("h3",null,"Route parameter is ",t),(0,f.h)("img",{src:"https://images.unsplash.com/photo-1670100054273-7371cf0816e3?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=387&q=80"}))}))}}]);
//# sourceMappingURL=962.build.js.map