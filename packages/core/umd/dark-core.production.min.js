!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("DarkCore",[],t):"object"==typeof exports?exports.DarkCore=t():e.DarkCore=t()}(self,(()=>(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{$$memo:()=>ke,ATTR_KEY:()=>i,ATTR_REF:()=>a,Comment:()=>me,CommentVirtualNode:()=>ue,ComponentFactory:()=>O,EMPTY_NODE:()=>o,EffectTag:()=>Fe,Fiber:()=>Ge,Fragment:()=>xe,NodeType:()=>I,PARTIAL_UPDATE:()=>u,ROOT:()=>r,Suspense:()=>kt,SuspenseContext:()=>St,TagVirtualNode:()=>ie,TaskPriority:()=>n,Text:()=>be,TextVirtualNode:()=>ae,View:()=>ye,VirtualNode:()=>oe,batch:()=>dt,cloneTagMap:()=>Le,createComponent:()=>H,createContext:()=>yt,createEmptyVirtualNode:()=>ve,createHook:()=>ft,createUpdateCallback:()=>st,currentFiberStore:()=>V,currentRootStore:()=>R,deletionsStore:()=>K,detectIsArray:()=>v,detectIsBoolean:()=>p,detectIsCommentVirtualNode:()=>ce,detectIsComponentFactory:()=>P,detectIsDepsDifferent:()=>S,detectIsEmpty:()=>y,detectIsEmptyVirtualNode:()=>de,detectIsFragment:()=>Ee,detectIsFunction:()=>l,detectIsLazy:()=>Ht,detectIsMemo:()=>Oe,detectIsMutableRef:()=>Se,detectIsNull:()=>h,detectIsNumber:()=>c,detectIsObject:()=>d,detectIsString:()=>s,detectIsTagVirtualNode:()=>fe,detectIsTextVirtualNode:()=>se,detectIsUndefined:()=>f,detectIsVirtualNode:()=>le,detectIsVirtualNodeFactory:()=>he,dummyFn:()=>w,effectsStore:()=>Z,error:()=>b,eventsStore:()=>W,fiberMountStore:()=>_,flatten:()=>m,forwardRef:()=>we,getComponentFactoryKey:()=>C,getRootId:()=>M,getTime:()=>g,getVirtualNodeKey:()=>pe,h:()=>xt,hasChildrenProp:()=>lt,isBatchZone:()=>z,isLayoutEffectsZone:()=>G,isUpdateHookZone:()=>Y,keyBy:()=>x,layoutEffectsStore:()=>B,lazy:()=>Ot,memo:()=>He,nextUnitOfWorkStore:()=>U,platform:()=>Ne,rootStore:()=>L,takeListFromEnd:()=>E,unmountRoot:()=>We,useCallback:()=>Et,useContext:()=>ht,useDeferredValue:()=>It,useEffect:()=>X,useError:()=>Pt,useEvent:()=>Ft,useImperativeHandle:()=>Nt,useLayoutEffect:()=>Ae,useMemo:()=>Ce,useReducer:()=>Lt,useRef:()=>Mt,useState:()=>wt,useUpdate:()=>vt,walkFiber:()=>Ue,wipRootStore:()=>D,workLoop:()=>Ye});var n,r="root",o="dark:matter",i="key",a="ref",u="partial-update";!function(e){e[e.HIGH=2]="HIGH",e[e.NORMAL=1]="NORMAL",e[e.LOW=0]="LOW"}(n||(n={}));var l=function(e){return"function"==typeof e},f=function(e){return void 0===e},c=function(e){return"number"==typeof e},s=function(e){return"string"==typeof e},d=function(e){return"object"==typeof e},p=function(e){return"boolean"==typeof e},v=function(e){return Array.isArray(e)},h=function(e){return null===e},y=function(e){return h(e)||f(e)};function b(e){!f(console)&&console.error(e)}function m(e){var t=[],n={0:{idx:0,source:e}},r=0;do{var o=n[r],i=o.source,a=o.idx,u=i[a];a>=i.length?n[--r].idx++:v(u)?n[++r]={idx:0,source:u}:(t.push(u),n[r].idx++)}while(r>0||n[r].idx<n[r].source.length);return t}function g(){return Date.now()}function x(e,t,n){return void 0===n&&(n=!1),e.reduce((function(e,r){return e[t(r)]=!n||r,e}),{})}function E(e,t){return e.slice(e.length-t,e.length)}var w=function(){};function S(e,t){if(!f(e)&&!f(t)&&e.length>0&&t.length>0)for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0;return!1}var k=function(){return k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},k.apply(this,arguments)},T={displayName:"",defaultProps:{},token:Symbol("component")},O=function(e){this.children=[],this.type=e.type||null,this.token=e.token||null,this.props=e.props||null,this.ref=e.ref||null,this.displayName=e.displayName||"",this.shouldUpdate=e.shouldUpdate||null};function H(e,t){void 0===t&&(t={});var n=k(k({},T),t),r=n.token,o=n.defaultProps,i=n.displayName,a=n.shouldUpdate;return function(t,n){void 0===t&&(t={});var u=k(k({},o),t),l=new O({token:r,ref:n,displayName:i,shouldUpdate:a,props:u,type:e,children:[]});return u.ref&&delete u.ref,l}}var I,P=function(e){return e instanceof O},C=function(e){return y(e.props[i])?null:e.props[i]},j=null,F=new Map,N=function(){this.wipRoot=null,this.currentRoot=null,this.nextUnitOfWork=null,this.events=new Map,this.unsubscribers=[],this.deletions=[],this.fiberMount={level:0,navigation:{},isDeepWalking:!0},this.componentFiber=null,this.effects=[],this.layoutEffects=[],this.isLayoutEffectsZone=!1,this.isUpdateHookZone=!1,this.isBatchZone=!1},L={set:function(e){j=e,!F.get(j)&&F.set(j,new N)},remove:function(e){return F.delete(e)}},M=function(){return j},A=function(e){return void 0===e&&(e=j),F.get(e)},D={get:function(){var e;return(null===(e=A())||void 0===e?void 0:e.wipRoot)||null},set:function(e){return A().wipRoot=e}},R={get:function(e){var t;return(null===(t=A(e))||void 0===t?void 0:t.currentRoot)||null},set:function(e){return A().currentRoot=e}},U={get:function(){var e;return(null===(e=A())||void 0===e?void 0:e.nextUnitOfWork)||null},set:function(e){return A().nextUnitOfWork=e}},V={get:function(){var e;return null===(e=A())||void 0===e?void 0:e.componentFiber},set:function(e){return A().componentFiber=e}},W={get:function(){return A().events},addUnsubscriber:function(e){return A().unsubscribers.push(e)},unsubscribe:function(e){return A(e).unsubscribers.forEach((function(e){return e()}))}},K={get:function(){return A().deletions},set:function(e){return A().deletions=e}},_={reset:function(){A().fiberMount={level:0,navigation:{},isDeepWalking:!0}},getIndex:function(){return A().fiberMount.navigation[A().fiberMount.level]},jumpToChild:function(){var e=A().fiberMount,t=e.level+1;e.level=t,e.navigation[t]=0},jumpToParent:function(){var e=A().fiberMount,t=e.level,n=t-1;e.navigation[t]=0,e.level=n},jumpToSibling:function(){var e=A().fiberMount,t=e.level,n=e.navigation[t]+1;e.navigation[t]=n},deepWalking:{get:function(){return A().fiberMount.isDeepWalking},set:function(e){return A().fiberMount.isDeepWalking=e}}},Z={get:function(){return A().effects},reset:function(){return A().effects=[]},add:function(e){return A().effects.push(e)}},B={get:function(){return A().layoutEffects},reset:function(){return A().layoutEffects=[]},add:function(e){return A().layoutEffects.push(e)}},G={get:function(){var e;return(null===(e=A())||void 0===e?void 0:e.isLayoutEffectsZone)||!1},set:function(e){return A().isLayoutEffectsZone=e}},Y={get:function(){var e;return(null===(e=A())||void 0===e?void 0:e.isUpdateHookZone)||!1},set:function(e){return A().isUpdateHookZone=e}},z={get:function(){var e;return(null===(e=A())||void 0===e?void 0:e.isBatchZone)||!1},set:function(e){return A().isBatchZone=e}},q=Q(Symbol("use-effect"),Z),X=q.useEffect,$=q.hasEffects,J=q.dropEffects;function Q(e,t){return{useEffect:function(n,r){var o=V.get().hook,i=o.idx,a=o.values,u=function(){a[i]={deps:r,token:e,value:void 0},t.add((function(){a[i].value=n()}))};if(f(a[i]))u();else{var c=a[i],s=c.deps,d=c.value;(!r||S(r,s))&&(l(d)&&d(),u())}o.idx++},hasEffects:function(t){return t.hook.values.some((function(t){return(null==t?void 0:t.token)===e}))},dropEffects:function(t){var n,r,o=t.values;try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),a=i.next();!a.done;a=i.next()){var u=a.value;if(u.token===e){var f=u.value;l(f)&&f()}}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}}}!function(e){e.TAG="TAG",e.TEXT="TEXT",e.COMMENT="COMMENT"}(I||(I={}));var ee,te=(ee=function(e,t){return ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ee(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ee(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ne=function(){return ne=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ne.apply(this,arguments)},re=Symbol("virtual-node"),oe=function(e){this.type=null,this.type=e.type},ie=function(e){function t(t){var n=e.call(this,t)||this;return n.type=I.TAG,n.name=null,n.isVoid=!1,n.attrs={},n.children=[],n.name=t.name||n.name,n.isVoid=t.isVoid||n.isVoid,n.attrs=t.attrs||n.attrs,n.children=t.children||n.children,n}return te(t,e),t}(oe),ae=function(e){function t(t){var n=e.call(this,{})||this;return n.type=I.TEXT,n.value="",n.value=t,n}return te(t,e),t}(oe),ue=function(e){function t(t){var n=e.call(this,{})||this;return n.type=I.COMMENT,n.value="",n.value=t,n}return te(t,e),t}(oe),le=function(e){return e instanceof oe},fe=function(e){return e instanceof ie},ce=function(e){return e instanceof ue},se=function(e){return e instanceof ae},de=function(e){return ce(e)&&e.value===o};function pe(e){var t=e&&e.attrs[i];return y(t)?null:t}var ve=function(){return new ue(o)},he=function(e){return l(e)&&!0===e[re]};function ye(e){var t=function(){var t=e.as,n=e.slot,r=e.isVoid,o=void 0!==r&&r,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["as","slot","isVoid"]),a=o?[]:v(n)?n:n?[n]:[];return new ie({name:t,isVoid:o,attrs:ne({},i),children:a})};return t[re]=!0,t}function be(e){return s(e)?new ae(e):se(e)?e.value:""}function me(e){var t=function(){return new ue(e)};return t[re]=!0,t}var ge=Symbol("fragment"),xe=H((function(e){return e.slot||null}),{token:ge}),Ee=function(e){return P(e)&&e.token===ge};function we(e){return function(t){var n=t.ref,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(t,["ref"]);return e(r,n)}}var Se=function(e){if(!d(e)||h(e))return!1;var t=e;for(var n in t)if("current"===n&&t.hasOwnProperty(n))return!0;return!1},ke=Symbol("memo"),Te=function(e,t){var n,r,o=Object.keys(t);try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),a=i.next();!a.done;a=i.next()){var u=a.value;if("slot"!==u&&t[u]!==e[u])return!0}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1},Oe=function(e){return P(e)&&e.token===ke};function He(e,t){return void 0===t&&(t=Te),we(H((function(t,n){return n&&(t.ref=n),e(t)}),{token:ke,shouldUpdate:t}))}var Ie=H((function(e){return e.slot}),{token:ke});function Pe(e,t){return void 0===t&&(t=!1),function(e,t){var n=function(e){return he(e)||P(e)};if(v(e)?n(e[0]):n(e)){var r=Ie({slot:xe({slot:e})});return r.shouldUpdate=function(){return t},r}return e}(e(),t)}function Ce(e,t){var n=V.get().hook,r=n.idx,o=n.values;if(f(o[r])){var i=Pe(e);return o[r]={deps:t,value:i},n.idx++,i}var a=o[r],u=S(t,a.deps),l=u?e:function(){return a.value};return a.deps=t,a.value=Pe(l,u),n.idx++,a.value}var je,Fe,Ne={createNativeElement:function(){throw new Error("createNativeElement not installed by renderer")},requestAnimationFrame:function(){throw new Error("requestAnimationFrame not installed by renderer")},scheduleCallback:function(){throw new Error("scheduleCallback not installed by renderer")},shouldYeildToHost:function(){throw new Error("shouldYeildToHost not installed by renderer")},applyCommit:function(){throw new Error("applyCommit not installed by renderer")},finishCommitWork:function(){throw new Error("finishCommitWork not installed by renderer")},detectIsPortal:function(){throw new Error("detectIsPortal not installed by renderer")},unmountPortal:function(){throw new Error("unmountPortal not installed by renderer")}};!function(e){e.CREATE="CREATE",e.UPDATE="UPDATE",e.DELETE="DELETE",e.SKIP="SKIP"}(Fe||(Fe={}));var Le=((je={})[Fe.CREATE]=!0,je[Fe.SKIP]=!0,je),Me=Q(Symbol("use-layout-effect"),B),Ae=Me.useEffect,De=Me.hasEffects,Re=Me.dropEffects;function Ue(e){for(var t=e.fiber,n=e.onLoop,r=t,o=!0,i=!1,a=!1,u=new Map,l=function(e){return!u.get(e)};r&&(n({nextFiber:r,isReturn:i,resetIsDeepWalking:function(){return o=!1},stop:function(){return a=!0}}),!a);)if(r.child&&o&&l(r.child))i=!1,r=f=r.child,u.set(f,!0);else if(r.nextSibling&&l(r.nextSibling)){var f=r.nextSibling;o=!0,i=!1,r=f,u.set(f,!0)}else r.parent&&r.parent===t&&r.parent.nextSibling&&l(r.parent.nextSibling)?(f=r.parent.nextSibling,o=!0,i=!1,r=f,u.set(f,!0)):r.parent&&r.parent!==t?(o=!1,i=!0,r=r.parent):r=null}function Ve(e){(e.effectHost||e.layoutEffectHost||e.portalHost)&&Ue({fiber:e,onLoop:function(t){var n=t.nextFiber,r=t.isReturn,o=t.stop;if(n===e.nextSibling||e.transposition)return o();!r&&P(n.instance)&&(n.layoutEffectHost&&Re(n.hook),n.effectHost&&J(n.hook),n.portalHost&&Ne.unmountPortal(n))}})}function We(e,t){f(e)||(Ve(R.get(e)),W.unsubscribe(e),L.remove(e),t())}var Ke=function(){return Ke=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ke.apply(this,arguments)},_e=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Ze=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Be=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ge=function(){function e(e){this.nativeElement=e.nativeElement||null,this.parent=e.parent||null,this.child=e.child||null,this.nextSibling=e.nextSibling||null,this.alternate=e.alternate||null,this.effectTag=e.effectTag||null,this.instance=e.instance||null,this.hook=e.hook||{idx:0,values:[]},this.shadow=e.shadow||null,this.provider=e.provider||null,this.transposition=!f(e.transposition)&&e.transposition,this.mountedToHost=!f(e.mountedToHost)||!1,this.portalHost=!f(e.portalHost)&&e.portalHost,this.effectHost=!f(e.effectHost)&&e.effectHost,this.layoutEffectHost=!f(e.layoutEffectHost)&&e.layoutEffectHost,this.childrenCount=e.childrenCount||0,this.marker=e.marker||"",this.idx=e.idx||0,this.isUsed=e.isUsed||!1,this.batched=e.batched||[]}return e.prototype.markPortalHost=function(){this.portalHost=!0,this.parent&&!this.parent.portalHost&&this.parent.markPortalHost()},e.prototype.markEffectHost=function(){this.effectHost=!0,this.parent&&!this.parent.effectHost&&this.parent.markEffectHost()},e.prototype.markLayoutEffectHost=function(){this.layoutEffectHost=!0,this.parent&&!this.parent.layoutEffectHost&&this.parent.markLayoutEffectHost()},e.prototype.markMountedToHost=function(){this.mountedToHost=!0,this.parent&&!this.parent.mountedToHost&&this.parent.markMountedToHost()},e.prototype.setError=function(e){"function"==typeof this.catchException?this.catchException(e):this.parent&&this.parent.setError(e)},e}();function Ye(){for(var e=D.get(),t=U.get(),n=!1,r=Boolean(t);t&&!n;)t=ze(t),U.set(t),r=Boolean(t),n=Ne.shouldYeildToHost();return!t&&e&&function(){var e=D.get();!function(t,n){var r,o,i,a,u=K.get();try{for(var l=Be(u),f=l.next();!f.done;f=l.next()){var c=f.value;Ve(c),Ne.applyCommit(c)}}catch(e){r={error:e}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}Ue({fiber:t,onLoop:function(e){var t=e.nextFiber,n=e.isReturn,r=e.resetIsDeepWalking;t.effectTag===Fe.SKIP?r():n||Ne.applyCommit(t),t&&t.shadow&&(t.shadow=null)}}),Ne.finishCommitWork(),K.set([]),i=B.get(),a=Z.get(),G.set(!0),i.forEach((function(e){return e()})),G.set(!1),setTimeout((function(){a.forEach((function(e){return e()}))})),D.set(null),B.reset(),Z.reset(),Y.get()?Y.set(!1):R.set(e)}(e.child)}(),r}function ze(e){for(var t=!0,n=e,r=e.shadow,o=e.instance;;){if(t=_.deepWalking.get(),n.hook.idx=0,t)if(lt(o)&&o.children.length>0){var i=Xe({nextFiber:n,shadow:r,instance:o}),a=i.performedFiber;if(n=i.performedNextFiber,r=i.performedShadow,o=i.performedInstance,a)return a}else{var u=$e({nextFiber:n,shadow:r,instance:o});if(a=u.performedFiber,n=u.performedNextFiber,r=u.performedShadow,o=u.performedInstance,a)return a}else{var l=$e({nextFiber:n,shadow:r,instance:o});if(a=l.performedFiber,n=l.performedNextFiber,r=l.performedShadow,o=l.performedInstance,a)return a}if(qe(n),null===n.parent)return null}}function qe(e){var t,n;if(e.marker===u){var r=(null===(n=e.child)||void 0===n?void 0:n.alternate)||null,o=e.child||null;if(r&&o&&r.nextSibling&&!o.nextSibling){for(var i=r.nextSibling,a=[];i;)i.effectTag=Fe.DELETE,a.push(i),i=i.nextSibling;(t=K.get()).push.apply(t,Ze([],_e(a),!1))}}}function Xe(e){_.jumpToChild();var t=e.nextFiber,n=e.shadow,r=e.instance;n=n?n.child:null;var o=function(e){for(var t=e.alternate&&e.alternate.effectTag!==Fe.DELETE?e.alternate.child:null;t&&t.effectTag===Fe.DELETE;)t=t.nextSibling;return t}(t),i=lt(r)&&r.children[0]||null,a=ct({shadow:n,alternate:o,prevKey:i?ot(i):null,nextKey:o?ot(o.instance):null}),u=n?n.provider:o?o.provider:null,l=new Ge({hook:a,provider:u});V.set(l),l.parent=t;var f=tt({instance:r,idx:0,fiber:l,alternate:o});return r=f.performedInstance||r,n=f.performedShadow||n,o&&Qe({alternate:o,instance:r}),Je({fiber:l,alternate:o,instance:r}),(l=o?et({fiber:l,alternate:o,instance:r}):l).idx=0,t.child=l,l.parent=t,l.shadow=n,t=l,Le[l.parent.effectTag]&&(l.effectTag=l.parent.effectTag),{performedFiber:t,performedNextFiber:t,performedShadow:n,performedInstance:r}}function $e(e){_.jumpToSibling();var t=e.nextFiber,n=e.shadow,r=e.instance,o=t.parent.instance,i=_.getIndex();if(lt(o)&&o.children[i]){_.deepWalking.set(!0),n=n?n.nextSibling:null;var a=function(e){for(var t,n=(null===(t=e.alternate)||void 0===t?void 0:t.nextSibling)||null;n&&n.effectTag===Fe.DELETE;)n=n.nextSibling;return n}(t),u=lt(t.parent.instance)&&t.parent.instance.children[i]||null,l=ct({shadow:n,alternate:a,prevKey:u?ot(u):null,nextKey:a?ot(a.instance):null}),f=n?n.provider:a?a.provider:null,c=new Ge({hook:l,provider:f});V.set(c),c.parent=t.parent;var s=tt({instance:o,idx:i,fiber:c,alternate:a});return r=s.performedInstance||r,n=s.performedShadow||n,a&&Qe({alternate:a,instance:r}),Je({fiber:c,alternate:a,instance:r}),(c=a?et({fiber:c,alternate:a,instance:r}):c).idx=i,c.parent=t.parent,t.nextSibling=c,c.shadow=n,t=c,Le[c.parent.effectTag]&&(c.effectTag=c.parent.effectTag),{performedFiber:t,performedNextFiber:t,performedShadow:n,performedInstance:r}}return _.jumpToParent(),_.deepWalking.set(!1),n=n?n.parent:null,r=(t=t.parent).instance,lt(t.instance)&&(t.instance.children=[]),{performedFiber:null,performedNextFiber:t,performedShadow:n,performedInstance:r}}function Je(e){var t=e.fiber,n=e.alternate,r=e.instance,o=(n?ot(n.instance):null)!==(n?ot(r):null),i=Boolean(n)&&ut(n.instance)===ut(r)&&!o;t.instance=r,t.alternate=n||null,t.nativeElement=i?n.nativeElement:null,t.effectTag=i?Fe.UPDATE:Fe.CREATE,t.mountedToHost=i,lt(t.instance)&&(t.childrenCount=t.instance.children.length),t.alternate&&(t.alternate.shadow=null,t.alternate.alternate=null),!t.nativeElement&&le(t.instance)&&(t.nativeElement=Ne.createNativeElement(t.instance))}function Qe(e){var t=e.alternate,n=e.instance,r=ut(t.instance),o=ut(n)===r,i=ot(t.instance)===ot(n);if(t.isUsed=!0,o&&i){if(lt(t.instance)&&lt(n)){var a=t.childrenCount,u=n.children.length;if(a!==u){var l=lt(n)?n.children:[],f=function(e,t){for(var n=e,r=0,o=[],i=[];n||r<t.length;){var a=n&&ot(n.instance),u=t[r]&&ot(t[r]);y(a)||o.push(a),y(u)||i.push(u),n=n?n.nextSibling:null,r++}return{prevKeys:o,nextKeys:i}}(t.child,l),c=f.prevKeys,s=f.nextKeys;c.length,s.length,!function(){var e,n,r,o,i,l=it(c,s);if(l.length>0){var f=function(e){for(var t=e,n={};t;){var r=ot(t.instance);y(r)||(n[r]=t),t=t.nextSibling}return n}(t.child);try{for(var d=Be(l),p=d.next();!p.done;p=d.next())(g=f[p.value]||null)&&(g.effectTag=Fe.DELETE,K.get().push(g))}catch(t){e={error:t}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(e)throw e.error}}}else{var v=a-u;if(v<=0)return;var h=E(function(e){for(var t=[],n=e;n;)t.push(n),n=n.nextSibling;return t}(t.child),v);try{for(var b=Be(h),m=b.next();!m.done;m=b.next()){var g;(g=m.value).effectTag=Fe.DELETE}}catch(e){r={error:e}}finally{try{m&&!m.done&&(o=b.return)&&o.call(b)}finally{if(r)throw r.error}}(i=K.get()).push.apply(i,Ze([],_e(h),!1))}}(),function(){var e,n,r=it(s,c);if(0!==r.length&&r.length!==s.length){var o=x(r,(function(e){return e})),i={},a=0;try{for(var u=Be(s),l=u.next();!l.done;l=u.next()){var f=l.value;if(i[f]=!0,f!==c[a]&&o[f]){var d=new Ge({instance:ve(),parent:t,effectTag:Fe.CREATE});if(0===a)d.nextSibling=t.child,t.child=d;else{var p=_e(rt(t.child,a),2),v=p[0],h=p[1];v&&h&&(d.nextSibling=v,h.nextSibling=d)}}a++}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}}}()}}}else t.effectTag=Fe.DELETE,K.get().push(t)}function et(e){var t=e.fiber,n=e.alternate,r=e.instance;if(Oe(t.instance)){var o=null,i=r,a=n.instance;if(i.type!==a.type)return t;var u=a.props,l=i.props;if(!i.shouldUpdate(u,l)){var f=null;for(_.deepWalking.set(!1),o=new Ge(Ke(Ke({},n),{alternate:n,effectTag:Fe.SKIP,nextSibling:n.nextSibling?n.nextSibling.effectTag===Fe.DELETE?null:n.nextSibling:null})),n.alternate=null,f=o.child;f;)f.parent=o,f=f.nextSibling;return o.effectHost&&t.markEffectHost(),o.layoutEffectHost&&t.markLayoutEffectHost(),o.mountedToHost&&t.markMountedToHost(),o.portalHost&&t.markPortalHost(),o}}return t}function tt(e){var t,n=e.instance,r=e.idx,o=e.fiber,i=e.alternate,a=null,u=null;if(lt(n)){var l=v(n.children[r])?m([n.children[r]]):[n.children[r]];(t=n.children).splice.apply(t,Ze([r,1],_e(l),!1)),a=n.children[r],u=i?function(e){var t=e.instance,n=e.fiber,r=e.alternate,o=ot(r.instance),i=ot(t),a=null;return o!==i&&(a=function(e,t){if(y(e))return null;for(var n=t;n;){if(e===ot(n.instance))return n;n=n.nextSibling}return null}(i,r.parent.child),a&&(n.hook=a.hook,n.provider=a.provider,r.transposition=!0)),a}({instance:a,fiber:o,alternate:i}):u,a=nt(o,a)}return P(a)&&($(o)&&o.markEffectHost(),De(o)&&o.markLayoutEffectHost(),Ne.detectIsPortal(a)&&o.markPortalHost()),{performedInstance:a,performedShadow:u}}function nt(e,t){var n=P(t),r=t;if(n)try{var o=r.type(r.props,r.ref);r.children=v(o)?m([o]):[o]}catch(t){r.children=[],e.setError(t),b(t)}else he(t)&&(t=t());if(lt(t)){for(var i=0;i<t.children.length;i++)t.children[i]||(t.children[i]=at(t.children[i]));t.children=n?t.children:v(t.children)?m([t.children]):[t.children],n&&0===r.children.length&&r.children.push(ve())}return t}function rt(e,t){for(var n={},r=e,o=0;r;){if(n[o]=r,o===t)return[n[o]||null,n[o-1]||null];o++,r=r.nextSibling}return[null,null]}function ot(e){return P(e)?C(e):fe(e)?pe(e):null}function it(e,t){var n,r,o=t.reduce((function(e,t){return e[t]=!0,e}),{}),i=[];try{for(var a=Be(e),u=a.next();!u.done;u=a.next()){var l=u.value;o[l]||i.push(l)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i}function at(e){return y(e)||!1===e?ve():e}function ut(e){return fe(e)?e.name:le(e)||P(e)?e.type:null}function lt(e){return fe(e)||P(e)}function ft(){return{idx:0,values:[]}}function ct(e){var t=e.shadow,n=e.alternate,r=e.prevKey,o=e.nextKey;return t?t.hook:n&&r===o?n.hook:{idx:0,values:[]}}function st(e){var t=e.rootId,n=e.fiber,r=e.forceStart,o=void 0!==r&&r,i=e.onStart;return function(){o&&i(),n.isUsed||(!o&&i(),L.set(t),Y.set(!0),_.reset(),n.alternate=new Ge(Ke(Ke({},n),{alternate:null})),n.marker=u,n.effectTag=Fe.UPDATE,n.child=null,D.set(n),V.set(n),n.instance=nt(n,n.instance),U.set(n))}}function dt(e){z.set(!0),e()}var pt=function(){return pt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},pt.apply(this,arguments)};function vt(e){var t=M(),n=V.get(),r=Ce((function(){return{fiber:n}}),[]);return r.fiber=n,function(n){var o=st({rootId:t,fiber:r.fiber,forceStart:Boolean(null==e?void 0:e.timeoutMs),onStart:n||w});G.get()&&(e=pt(pt({},e||{}),{forceSync:!0})),z.get()?function(e,t){e.batched.push(t);var n=function(){var t=e.batched.length;Ne.requestAnimationFrame((function(){if(t===e.batched.length){var r=e.batched[e.batched.length-1];z.set(!1),e.batched=[],r&&r()}else n()}))};n()}(r.fiber,(function(){return Ne.scheduleCallback(o,e)})):Ne.scheduleCallback(o,e)}}function ht(e){var t=e.defaultValue,n=function(e,t){for(var n=t;n;){if(n.provider&&n.provider.get(e))return n.provider.get(e);n=n.parent}return null}(e,V.get()),r=n?n.value:t,o=vt(),i=Ce((function(){return{prevValue:r}}),[]),a=Boolean(n);return X((function(){if(a){var e=function(e){Object.is(i.prevValue,e)||o()};return n.subscribers.push(e),function(){var t=n.subscribers.findIndex((function(t){return t===e}));-1!==t&&n.subscribers.splice(t,1)}}}),[a]),i.prevValue=r,r}function yt(e){var t="Context",n={displayName:t,defaultValue:e,Provider:null,Consumer:null};return bt(n,e,t),Object.defineProperty(n,"displayName",{get:function(){return t},set:function(r){bt(n,e,t=r)}}),n}function bt(e,t,n){e.Provider=function(e,t,n){return H((function(n){var r=n.value,o=void 0===r?t:r,i=n.slot,a=V.get();a.provider||(a.provider=new Map),a.provider.get(e)||a.provider.set(e,{subscribers:[],value:o});var u=a.provider.get(e);return X((function(){var e,t;try{for(var n=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(u.subscribers),r=n.next();!r.done;r=n.next())(0,r.value)(o)}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}}),[o]),u.value=o,i}),{displayName:"".concat(n,".Provider")})}(e,t,n),e.Consumer=function(e,t){return H((function(t){var n=t.slot,r=ht(e);return l(n)?n(r):null}),{displayName:"".concat(t,".Consumer")})}(e,n)}var mt=function(){return mt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},mt.apply(this,arguments)};function gt(e){return(e=e.map((function(e){return s(e)||c(e)?be(e.toString()):e})))?Array.isArray(e)?function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(e),!1):[e]:[]}function xt(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(s(e))return ye(mt(mt({},t),{as:e,slot:gt(n)}));if(l(e)){var o=gt(n);return o=1===o.length?o[0]:o,e(mt(mt({},t),{slot:o}))}return null}function Et(e,t){return Ce((function(){return e}),t)}function wt(e,t){var r=V.get(),o=vt(t),i=Ce((function(){return{idx:r.hook.idx,values:r.hook.values}}),[]),a=Et((function(e){var r=i.values[i.idx],a=l(e)?e(r):e;if(!Object.is(r,a)){var u=function(){i.values[i.idx]=a};(null==t?void 0:t.priority)===n.LOW?o((function(){return u()})):(u(),o())}}),[]),u=r.hook,c=u.idx,s=u.values,d=f(s[c])?e:s[c];return s[c]=d,i.idx=c,i.values=s,u.idx++,[d,a]}var St=yt({fallback:null,isLoaded:!0,trigger:function(){}}),kt=H((function(e){var t=e.fallback,n=e.slot;if(!t)throw new Error("[Dark]: Suspense fallback not found");var r=ht(St).isLoaded,o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(wt(!1),2),i=o[0],a=o[1],u=Et((function(){return a(!0)}),[]),l=Ce((function(){return{fallback:t,isLoaded:i,trigger:u}}),[t,i]);return St.Provider({value:l,slot:r?n:null})})),Tt=Symbol("lazy");function Ot(e){return we(H((function(t,n){var r=ht(St),o=r.fallback,i=r.trigger,a=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(wt({component:null}),2),u=a[0],l=a[1];return X((function(){(function(e){return new Promise((function(t){e().then((function(e){if(!e.default)throw new Error("[Dark]: lazy loaded component should be exported as default!");t(e.default)}))}))})(e).then((function(e){l({component:e})}))}),[]),X((function(){u.component&&i()}),[u.component]),u.component?u.component(t,n):o}),{token:Tt}))}var Ht=function(e){return P(e)&&e.token===Tt};function It(e,t){var r=(t||{}).timeoutMs,o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(wt(e,{priority:n.LOW,timeoutMs:r}),2),i=o[0],a=o[1];return X((function(){a(e)}),[e]),i}function Pt(){var e=V.get(),t=vt(),n=Ce((function(){return{error:null}}),[]);return e.catchException=function(e){n.error=e,t()},X((function(){n.error=null}),[n.error]),n.error}var Ct=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},jt=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function Ft(e){var t=Ce((function(){return{fn:e}}),[]);t.fn=e;var n=Et((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.fn.apply(t,jt([],Ct(e),!1))}),[]);return n}function Nt(e,t,n){var r=Ce((function(){return t()}),n);e.current=r}function Lt(e,t,n){var r=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(wt(Ce((function(){return l(n)?n(t):t}),[])),2),o=r[0],i=r[1],a=Et((function(t){return i((function(n){return e(n,t)}))}),[]);return[o,a]}function Mt(e){return void 0===e&&(e=null),Ce((function(){return{current:e}}),[])}return t})()));
//# sourceMappingURL=dark-core.production.min.js.map